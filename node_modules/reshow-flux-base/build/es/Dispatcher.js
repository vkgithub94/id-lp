import _classCallCheck from "reshow-runtime/es/helpers/classCallCheck";
import _defineProperty from "reshow-runtime/es/helpers/defineProperty";

var Dispatcher = function Dispatcher() {
  var _this = this;

  _classCallCheck(this, Dispatcher);

  _defineProperty(this, "cbs", []);

  _defineProperty(this, "register", function (cb) {
    return _this.cbs.push(cb);
  });

  _defineProperty(this, "dispatch", function (payload, params) {
    if (!payload) {
      payload = {};
    }

    if ('string' === typeof payload) {
      payload = {
        type: payload,
        params: params
      };

      if (!params) {
        delete payload.params;
      }
    }

    _this.cbs.forEach(function (c) {
      return c(payload);
    });
  });
};

export default Dispatcher;