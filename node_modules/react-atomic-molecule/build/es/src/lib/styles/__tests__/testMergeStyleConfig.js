import mergeStyleConfig from '../mergeStyleConfig';
import { expect } from 'chai';
describe('Test merge style config', function () {
  it('merge with nothing', function () {
    var style = {
      a: 'b'
    };
    mergeStyleConfig(style);
    expect(style).to.deep.equal({
      a: 'b'
    });
  });
  it('merge with default', function () {
    var style = {
      a: {
        a: 'b'
      }
    };
    var def = {
      a: {
        c: 'd'
      }
    };
    mergeStyleConfig(style, def);
    expect(style).to.deep.equal({
      a: {
        a: 'b',
        c: 'd'
      }
    });
  });
  it('merge with lazy', function () {
    var style = {
      a: {
        a: 'b'
      }
    };
    var lazy = {
      a: [{
        foo: 'bar'
      }, '.xxx']
    };
    mergeStyleConfig(style, null, lazy);
    expect(lazy).to.deep.equal({
      a: [{
        foo: 'bar',
        a: 'b'
      }, '.xxx']
    });
  });
  it('replace with lazy', function () {
    var style = {
      a: {
        foo: 'b'
      }
    };
    var lazy = {
      a: [{
        foo: 'bar'
      }, '.xxx']
    };
    mergeStyleConfig(style, null, lazy);
    expect(lazy).to.deep.equal({
      a: [{
        foo: 'b'
      }, '.xxx']
    });
  });
});