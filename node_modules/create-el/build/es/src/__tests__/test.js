import _typeof from "reshow-runtime/es/helpers/typeof";
import { js, css, create, inject, remove } from '../index';
import { expect } from 'chai';
describe('Test create', function () {
  it('create empty div', function () {
    var div = create('div')()();
    expect(_typeof(div)).to.equal('object');
  });
});
describe('Test remove', function () {
  var dom;
  it('add a dom', function () {
    dom = create('div')()({
      id: 'test-remove-dom',
      innerHTML: 'hello'
    });
    inject()(dom);
    var html = document.documentElement.innerHTML;
    expect(html).to.have.string('test-remove-dom');
  });
  it('test remove dom', function () {
    var html = document.documentElement.innerHTML;
    expect(html).to.have.string('test-remove-dom');
    remove(dom);
    html = document.documentElement.innerHTML;
    expect(html).to.not.have.string('test-remove-dom');
  });
});
describe('Test JS', function () {
  it('get JS', function () {
    var dNode = js(document.body)()('//cdn.jsdelivr.net/npm/reshow/build/cjs/src/dispatcher.js');
    expect(document.body.getElementsByTagName('script')[0].src).to.equal(dNode.src);
  });
});
describe('Test CSS', function () {
  it('get CSS', function () {
    var dNode = css(document.body)()('//cdn.jsdelivr.net/npm/pure-css@1.0.4/lib/base.css');
    expect(document.body.getElementsByTagName('link')[0].href).to.equal(dNode.href);
  });
});