"use strict";

var _setPrototypeOf = _interopRequireDefault(require("../setPrototypeOf"));

var _getPrototypeOf3 = _interopRequireDefault(require("../getPrototypeOf"));

var _createClass2 = _interopRequireDefault(require("../createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("../possibleConstructorReturn"));

var _defineProperty2 = _interopRequireDefault(require("../defineProperty"));

var _assertThisInitialized2 = _interopRequireDefault(require("../assertThisInitialized"));

var _chai = require("chai");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

describe('Test IE10 Inherit', function () {
  var reset;
  var A;
  var B;
  var C;
  before(function () {
    reset = Object.setPrototypeOf;
    Object.setPrototypeOf = null;

    A = function () {
      function A() {
        (0, _defineProperty2["default"])(this, 'a_static', function () {
          return 'a-static';
        });
      }

      (0, _createClass2["default"])(A, [{
        key: 'a_func',
        value: function a_func() {
          return 'a-func';
        }
      }]);
      return A;
    }();

    B = function () {
      (0, _setPrototypeOf["default"])(B, A, true);
      B.prototype = Object.create(A && A.prototype, {
        constructor: {
          value: B,
          writable: true,
          configurable: true
        }
      });

      function B() {
        var _getPrototypeOf2;

        var _this = (0, _possibleConstructorReturn2["default"])(this, (0, _getPrototypeOf3["default"])(B).apply(this, arguments));

        (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), 'b_static', function () {
          return 'b-static';
        });
        return _this;
      }

      (0, _createClass2["default"])(B, [{
        key: 'b_func',
        value: function b_func() {
          return 'b-func';
        }
      }]);
      return B;
    }();

    C = function () {
      (0, _setPrototypeOf["default"])(C, B, true);
      C.prototype = Object.create(B && B.prototype, {
        constructor: {
          value: C,
          writable: true,
          configurable: true
        }
      });

      function C() {
        var _this = (0, _possibleConstructorReturn2["default"])(this, (0, _getPrototypeOf3["default"])(C).apply(this, arguments));

        (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), 'c_static', function () {
          return 'c-static';
        });
        return _this;
      }

      (0, _createClass2["default"])(C, [{
        key: 'c_func',
        value: function c_func() {
          return 'c-func';
        }
      }]);
      return C;
    }();
  });
  after(function () {
    Object.setPrototypeOf = reset;
  });
  it('Test inherits', function () {
    Object.setPrototypeOf = null;
    var obj = new C();
    (0, _chai.expect)(obj.a_static()).to.equal('a-static');
    (0, _chai.expect)(obj.b_static()).to.equal('b-static');
    (0, _chai.expect)(obj.c_static()).to.equal('c-static');
    (0, _chai.expect)(obj.a_func()).to.equal('a-func');
    (0, _chai.expect)(obj.b_func()).to.equal('b-func');
    (0, _chai.expect)(obj.c_func()).to.equal('c-func');
  });
});